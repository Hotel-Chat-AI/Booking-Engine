<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roumei Hotel Taipei - Reserve Your Stay</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        :root {
            /* Luxury Theme Colors - Reverted */
            --color-primary-dark: #1a1a1a; 
            --color-secondary-dark: #2c2c2c; 
            --color-accent-gold: #b08d57; 
            --color-accent-gold-hover: #c9a36a;
            --color-text-light: #f0f0f0; 
            --color-text-medium: #a0a0a0; 
            --color-text-dark: #333333; 
            --color-background-light: #ffffff;
            --color-border-light: #444444; 
            --color-border-form: #d1d1d1; 
        }

        .text-text-secondary-light { /* Added definition for dynamically generated content */
            color: var(--color-text-medium);
        }

        html { 
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Lato', sans-serif;
            background-color: var(--color-primary-dark);
            color: var(--color-text-light);
        }

        h1, h2, h3, .font-serif-display {
            font-family: 'Playfair Display', serif;
            font-weight: 700;
        }

        .hero-bg-luxury {
            background-image: url('https://www.roumeihotel.com.tw/assets/images/roumei-boutique-1.jpg'); 
            background-size: cover;
            background-position: center;
            transition: background-image 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        .hero-bg-luxury::before { 
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1;
        }
        .hero-content {
            position: relative;
            z-index: 2;
        }

        .btn-primary-luxury { /* Reverted to Luxury Style */
            background-color: var(--color-accent-gold);
            color: var(--color-background-light);
            padding: 0.75rem 2rem;
            border-radius: 2px; 
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: background-color 0.3s ease;
        }
        .btn-primary-luxury:hover {
            background-color: var(--color-accent-gold-hover);
        }

        .btn-secondary-luxury { /* Reverted to Luxury Style */
            border: 1px solid var(--color-accent-gold);
            color: var(--color-accent-gold);
            padding: 0.7rem 1.8rem;
            border-radius: 2px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .btn-secondary-luxury:hover {
            background-color: var(--color-accent-gold);
            color: var(--color-background-light);
        }
        
        .form-input-luxury { /* Reverted to Luxury Style */
            background-color: var(--color-background-light);
            border: 1px solid var(--color-border-form);
            color: var(--color-text-dark);
            border-radius: 2px;
            padding: 0.75rem 1rem; /* Adjusted from modern */
            width: 100%;
        }
        .form-input-luxury:focus {
            border-color: var(--color-accent-gold);
            box-shadow: 0 0 0 2px rgba(176, 141, 87, 0.3); 
            outline: none;
        }
        .form-label-luxury { /* Reverted to Luxury Style */
            color: var(--color-text-dark); 
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
            display: block;
        }
        
        /* Styles for new room list item - Adapted for Luxury Theme */
        .room-list-item-luxury { /* Changed from -modern */
            background-color: var(--color-secondary-dark);
            border-radius: 2px; /* Consistent with luxury theme */
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--color-border-light); /* Consistent border */
            display: flex;
            flex-direction: column; 
        }
        @media (min-width: 768px) { 
            .room-list-item-luxury {
                flex-direction: row; 
            }
        }
        .room-list-item-luxury:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        .room-list-item-luxury .room-image-container {
            flex-shrink: 0;
        }
        .room-list-item-luxury .room-image-container img {
            width: 100%;
            height: 200px; 
            object-fit: cover;
        }
        @media (min-width: 768px) { 
            .room-list-item-luxury .room-image-container {
                width: 250px; 
            }
             .room-list-item-luxury .room-image-container img {
                height: 100%; 
                min-height: 220px; 
            }
        }
        .room-list-item-luxury .room-content {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }
        .room-list-item-luxury .room-details {
            flex-grow: 1;
        }
        .room-list-item-luxury .room-actions {
            margin-top: 1rem;
            text-align: right; 
        }
        @media (min-width: 1024px) { 
             .room-list-item-luxury .room-content {
                flex-direction: row; 
                justify-content: space-between;
            }
            .room-list-item-luxury .room-actions {
                margin-top: 0;
                display: flex;
                flex-direction: column;
                justify-content: center; 
                align-items: flex-end; 
                min-width: 200px; 
            }
             .room-list-item-luxury .room-actions .btn-secondary-luxury { /* Ensure button uses luxury style */
                margin-top: 0.75rem;
             }
        }

        .modal-luxury { 
            display: none; position: fixed; z-index: 1000; left: 0; top: 0;
            width: 100%; height: 100%; overflow: auto; 
            background-color: rgba(0,0,0,0.7);
        }
        .modal-content-luxury {
            background-color: var(--color-secondary-dark);
            color: var(--color-text-light);
            margin: 8% auto; padding: 2rem; border-radius: 2px;
            width: 90%; max-width: 600px;
            border: 1px solid var(--color-border-light);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        .modal-close-btn-luxury {
            color: var(--color-text-medium); font-size: 2rem; font-weight: 100;
            position: absolute; top: 1rem; right: 1.5rem;
        }
        .modal-close-btn-luxury:hover { color: var(--color-text-light); }

        #mobile-menu-luxury {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            background-color: var(--color-primary-dark);
            opacity: 0;
            pointer-events: none;
        }
        #mobile-menu-luxury.open {
            transform: translateX(0);
            opacity: 1;
            pointer-events: auto;
        }
        
        /* Date Picker Styling for Luxury Theme */
        .date-picker-modal-luxury {
            z-index: 1010; /* Ensure it's above header (z-50) and other modals (z-1000) */
        }
        .date-picker-modal-luxury .date-picker-content {
            background-color: var(--color-secondary-dark);
            color: var(--color-text-light);
            border-radius: 2px;
        }
        .date-picker-modal-luxury .calendar-day {
            color: var(--color-text-light);
        }
        .date-picker-modal-luxury .calendar-day:hover:not(.disabled):not(.selected-date) { background-color: var(--color-border-light); }
        .date-picker-modal-luxury .calendar-day.disabled { color: #666; }
        .date-picker-modal-luxury .calendar-day.selected-start, 
        .date-picker-modal-luxury .calendar-day.selected-end { background-color: var(--color-accent-gold); color: var(--color-background-light); }
        .date-picker-modal-luxury .calendar-day.in-range:not(.selected-start):not(.selected-end) { background-color: rgba(176, 141, 87, 0.2); }
        .date-picker-modal-luxury .calendar-day.today { border: 1px solid var(--color-accent-gold); }
        .date-picker-modal-luxury .btn-date-picker-done { /* Uses btn-secondary-luxury for consistency */
            border: 1px solid var(--color-accent-gold);
            color: var(--color-accent-gold);
        }
        .date-picker-modal-luxury .btn-date-picker-done:hover {
            background-color: var(--color-accent-gold);
            color: var(--color-background-light);
        }
        .date-picker-modal-luxury #month-year-display1,
        .date-picker-modal-luxury #month-year-display2,
        .date-picker-modal-luxury .grid-cols-7 div { 
            color: var(--color-text-light);
        }
        .date-picker-modal-luxury #prev-month-btn,
        .date-picker-modal-luxury #next-month-btn {
            color: var(--color-text-medium);
        }
         .date-picker-modal-luxury #prev-month-btn:hover,
        .date-picker-modal-luxury #next-month-btn:hover {
            color: var(--color-text-light);
        }
        .page-section-luxury.hidden { display: none; } /* Renamed from -modern */

        /* Styles for Available Rooms section with light background */
        #roomsList-luxury {
            background-color: var(--color-background-light);
        }
        /* #roomsList-luxury .control-button { */ /* Removed as control button moved to header */
            /* color: var(--color-text-dark); */
            /* border-color: var(--color-border-form); */ /* Lighter border consistent with forms on light bg */
        /* } */
        /* #roomsList-luxury .control-button:hover { */
            /* color: var(--color-accent-gold); */
            /* border-color: var(--color-accent-gold); */
        /* } */

        /* Language and Currency Selector Styles - Adapted for Luxury Theme */
        .global-controls {
            position: relative; 
        }
        .control-button {
            background-color: transparent;
            border: 1px solid var(--color-border-light); /* Subtle border */
            color: var(--color-text-medium); /* Corrected from --text-secondary-light */
            padding: 0.5rem 1rem;
            border-radius: 2px; /* Consistent with luxury buttons */
            transition: all 0.2s ease;
            font-size: 0.9rem;
        }
        .control-button:hover {
            border-color: var(--color-accent-gold);
            color: var(--color-accent-gold);
        }
        .control-dropdown {
            display: none;
            position: absolute;
            top: 100%; 
            right: 0;
            background-color: var(--color-secondary-dark);
            border: 1px solid var(--color-border-light);
            border-radius: 2px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            z-index: 10;
            min-width: 160px; 
        }
        .control-dropdown a {
            color: var(--color-text-light); /* Corrected from --text-primary-light */
            padding: 0.75rem 1rem;
            text-decoration: none;
            display: block;
            font-size: 0.9rem;
        }
        .control-dropdown a:hover {
            background-color: var(--color-border-light); /* Darker hover for dropdown items */
        }

        /* Featured Room Card (Homepage) - Reverted to Luxury Style */
        .featured-room-card-luxury { /* Ensure this class is used on homepage cards */
            background-color: var(--color-secondary-dark);
            border: 1px solid var(--color-border-light);
            border-radius: 2px;
            overflow: hidden;
            display: flex; 
            flex-direction: column; 
        }
        .featured-room-card-luxury img {
            aspect-ratio: 16 / 10;
            object-fit: cover;
            transition: transform 0.4s ease;
        }
        .featured-room-card-luxury:hover img {
            transform: scale(1.05);
        }
        .featured-room-card-content-luxury { 
            padding: 1.5rem; 
            display: flex;
            flex-direction: column;
            flex-grow: 1; 
        }
        .featured-room-card-details-luxury { 
            flex-grow: 1; 
        }

    </style>
</head>
<body>

    <header class="sticky top-0 z-50 py-4 px-6 md:px-10 bg-opacity-80 backdrop-blur-md" style="background-color: rgba(26, 26, 26, 0.8);">
        <nav class="container mx-auto flex justify-between items-center">
            <a href="#" class="font-serif-display text-2xl md:text-3xl text-white tracking-wider" onclick="scrollToSectionLuxury('home-luxury-hero')">ROUMEI HOTEL TAIPEI</a>
            <div class="hidden md:flex space-x-8 items-center">
                <div class="global-controls">
                    <button id="language-selector-btn" class="control-button">
                        <i class="fas fa-globe mr-2"></i><span id="current-language-display">English</span> <i class="fas fa-chevron-down text-xs ml-1"></i>
                    </button>
                    <div id="language-dropdown" class="control-dropdown">
                        <a href="#" data-lang="en">English</a>
                        <a href="#" data-lang="zh-TW">繁體中文</a>
                        <a href="#" data-lang="zh-CN">简体中文</a>
                        <a href="#" data-lang="ja">日本語</a>
                        <a href="#" data-lang="ko">한국어</a>
                    </div>
                </div>
                <a href="#" class="text-sm uppercase tracking-wider text-gray-300 hover:text-white transition-colors" onclick="scrollToSectionLuxury('home-luxury-hero'); return false;" data-translate-key="nav_home">Home</a>
                <a href="#" class="text-sm uppercase tracking-wider text-gray-300 hover:text-white transition-colors" onclick="scrollToSectionLuxury('accommodations-luxury'); return false;" data-translate-key="nav_rooms">Rooms</a>
                <a href="#" class="text-sm uppercase tracking-wider text-gray-300 hover:text-white transition-colors" onclick="scrollToSectionLuxury('contact-luxury'); return false;" data-translate-key="nav_contact">Contact</a>
                <button class="btn-secondary-luxury text-xs" onclick="showPageLuxury('roomsList-luxury');" data-translate-key="nav_book_now">Book Now</button>
            </div>
            <div class="md:hidden">
                <button id="mobile-menu-button-luxury" class="text-gray-300 hover:text-white focus:outline-none">
                    <i class="fas fa-bars fa-lg"></i>
                </button>
            </div>
        </nav>
    </header>
    <div id="mobile-menu-luxury" class="fixed inset-0 z-40 transform -translate-x-full md:hidden p-6 space-y-4">
        <div class="flex justify-between items-center mb-6">
             <a href="#" class="font-serif-display text-2xl text-white tracking-wider" onclick="scrollToSectionLuxury('home-luxury-hero'); closeMobileMenuLuxury();">ROUMEI HOTEL TAIPEI</a>
            <button id="mobile-menu-close-luxury" class="text-gray-300 hover:text-white">
                <i class="fas fa-times fa-2x"></i>
            </button>
        </div>
        <a href="#" class="block py-3 text-lg uppercase tracking-wider text-gray-300 hover:text-white transition-colors" onclick="scrollToSectionLuxury('home-luxury-hero'); closeMobileMenuLuxury(); return false;" data-translate-key="nav_home">Home</a>
        <a href="#" class="block py-3 text-lg uppercase tracking-wider text-gray-300 hover:text-white transition-colors" onclick="scrollToSectionLuxury('accommodations-luxury'); closeMobileMenuLuxury(); return false;" data-translate-key="nav_rooms">Rooms</a>
        <a href="#" class="block py-3 text-lg uppercase tracking-wider text-gray-300 hover:text-white transition-colors" onclick="scrollToSectionLuxury('contact-luxury'); closeMobileMenuLuxury(); return false;" data-translate-key="nav_contact">Contact</a>
        <button class="btn-primary-luxury w-full mt-4" onclick="showPageLuxury('roomsList-luxury'); closeMobileMenuLuxury();" data-translate-key="nav_book_a_room">Book a Room</button>
    </div>


    <main id="main-content-luxury">

        <section id="home-luxury" class="page-section-luxury">
            <div id="home-luxury-hero" class="hero-bg-luxury min-h-screen flex flex-col items-center justify-center text-center p-6">
                <div class="hero-content bg-black bg-opacity-50 p-8 md:p-16 rounded-sm"> 
                    <h1 class="font-serif-display text-4xl sm:text-5xl md:text-7xl text-white mb-6 leading-tight" data-translate-key="hero_welcome">Welcome to Roumei Hotel Taipei</h1>
                    <p class="text-lg md:text-xl text-gray-300 mb-10 max-w-2xl mx-auto" data-translate-key="hero_tagline">Discover boutique elegance and serene comfort in the heart of the city.</p>
                    
                    <div class="bg-white p-6 md:p-8 rounded-sm shadow-xl max-w-4xl mx-auto"> 
                        <h3 class="font-serif-display text-2xl md:text-3xl mb-6 text-gray-800" data-translate-key="hero_reserve_stay">Reserve Your Stay</h3>
                        <form id="booking-form-luxury" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end">
                            <div>
                                <label for="checkin-date-luxury" class="form-label-luxury text-left" data-translate-key="hero_arrival">Arrival</label>
                                <input type="text" id="checkin-date-luxury" class="form-input-luxury" required readonly>
                            </div>
                            <div>
                                <label for="checkout-date-luxury" class="form-label-luxury text-left" data-translate-key="hero_departure">Departure</label>
                                <input type="text" id="checkout-date-luxury" class="form-input-luxury" required readonly>
                            </div>
                            <div>
                                <label for="guests-luxury" class="form-label-luxury text-left" data-translate-key="hero_guests">Guests</label>
                                <select id="guests-luxury" class="form-input-luxury">
                                    <option value="1">1 Guest</option>
                                    <option value="2" selected>2 Guests</option>
                                    <option value="3">3 Guests</option>
                                    <option value="4">4 Guests</option>
                                </select>
                            </div>
                            <button type="submit" class="btn-primary-luxury w-full py-3" data-translate-key="hero_check_availability">Check Availability</button>
                        </form>
                    </div>
                </div>
            </div>

            <section id="accommodations-luxury" class="py-16 md:py-24 bg-white text-gray-800">
                <div class="container mx-auto px-6">
                    <h2 class="font-serif-display text-3xl md:text-4xl text-center mb-12 md:mb-16" data-translate-key="accom_title">Our Accommodations</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                         <div class="featured-room-card-luxury group"> 
                            <img src="https://www.roumeihotel.com/assets/images/Superior-2.jpg" alt="高級客房 (Superior Room)" class="w-full">
                            <div class="featured-room-card-content-luxury">
                                <div class="featured-room-card-details-luxury">
                                    <h3 class="font-serif-display text-2xl mb-2 text-white" data-translate-key="room_id_superior_name">高級客房 (Superior)</h3>
                                    <p class="text-sm text-gray-400 mb-4" data-translate-key="room_id_superior_description_short_home">Cozy comfort with elegant touches, perfect for a relaxing stay.</p>
                                </div>
                                <div class="mt-auto"> 
                                    <p class="text-lg font-bold text-white mb-4">From NT$ 2,266</p>
                                    <button onclick="showRoomDetailLuxury('superior')" class="btn-secondary-luxury w-full text-sm" data-translate-key="accom_explore_room">Explore Room</button>
                                </div>
                            </div>
                        </div>
                         <div class="featured-room-card-luxury group">
                            <img src="https://www.roumeihotel.com/assets/images/luxury-3.jpg" alt="豪華客房 (Deluxe Room)" class="w-full">
                             <div class="featured-room-card-content-luxury">
                                <div class="featured-room-card-details-luxury">
                                    <h3 class="font-serif-display text-2xl mb-2 text-white" data-translate-key="room_id_deluxe_name">豪華客房 (Deluxe)</h3>
                                    <p class="text-sm text-gray-400 mb-4" data-translate-key="room_id_deluxe_description_short_home">Spacious and refined, offering an elevated level of comfort and style.</p>
                                </div>
                                <div class="mt-auto"> 
                                    <p class="text-lg font-bold text-white mb-4">From NT$ 2,530</p>
                                    <button onclick="showRoomDetailLuxury('deluxe')" class="btn-secondary-luxury w-full text-sm" data-translate-key="accom_explore_room">Explore Room</button>
                                </div>
                            </div>
                        </div>
                         <div class="featured-room-card-luxury group">
                            <img src="https://www.roumeihotel.com/assets/images/Executive-3.jpg" alt="行政商務客房 (Executive Business Room)" class="w-full">
                            <div class="featured-room-card-content-luxury">
                                <div class="featured-room-card-details-luxury">
                                    <h3 class="font-serif-display text-2xl mb-2 text-white" data-translate-key="room_id_executive_name">行政商務客房 (Executive)</h3>
                                    <p class="text-sm text-gray-400 mb-4" data-translate-key="room_id_executive_description_short_home">Ideal for the discerning traveler, with premium amenities and ample workspace.</p>
                                </div>
                                <div class="mt-auto"> 
                                    <p class="text-lg font-bold text-white mb-4">From NT$ 2,965</p>
                                    <button onclick="showRoomDetailLuxury('executive')" class="btn-secondary-luxury w-full text-sm" data-translate-key="accom_explore_room">Explore Room</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <section id="roomsList-luxury" class="page-section-luxury hidden py-16 md:py-24">              <div class="container mx-auto px-6">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8">
                    <div>
                        <h2 class="font-serif-display text-3xl md:text-4xl text-gray-800" data-translate-key="rooms_list_available_rooms">Available Rooms</h2>
                        <p class="text-gray-600 mt-1" id="search-dates-info-luxury" data-translate-key="rooms_list_showing_availability">Showing availability for your selected dates.</p>
                    </div>
                    <div class="flex space-x-3 mt-4 sm:mt-0">
                        <div class="global-controls">
                            <button id="currency-selector-btn" class="control-button">
                                <i class="fas fa-dollar-sign mr-2"></i><span id="current-currency-display">TWD</span> <i class="fas fa-chevron-down text-xs ml-1"></i>
                            </button>
                            <div id="currency-dropdown" class="control-dropdown">
                                <a href="#" data-curr="TWD">TWD</a>
                                <a href="#" data-curr="USD">USD</a>
                                <a href="#" data-curr="JPY">JPY</a>
                                <a href="#" data-curr="KRW">KRW</a>
                                <a href="#" data-curr="EUR">EUR</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="space-y-6" id="available-rooms-container-luxury">
                    </div>
                <div id="no-rooms-message-luxury" class="hidden text-center text-gray-700 py-16">
                    <i class="fas fa-door-closed fa-4x mb-6 text-gray-500"></i>
                    <p class="font-serif-display text-2xl mb-2" data-translate-key="rooms_list_no_rooms">No Rooms Available</p>
                    <p data-translate-key="rooms_list_no_rooms_desc">We're sorry, no rooms match your criteria for the selected dates. Please try alternative dates.</p>
                </div>
            </div>
        </section>

        <section id="roomDetail-luxury" class="page-section-luxury hidden py-16 md:py-24 bg-white text-gray-800">
            <div class="container mx-auto px-6">
                <div class="max-w-5xl mx-auto">
                    <button onclick="goBackToRoomsLuxury()" class="btn-secondary-luxury mb-8 text-sm">
                        <i class="fas fa-arrow-left mr-2"></i><span data-translate-key="room_detail_back_to_rooms">Back to Rooms</span>
                    </button>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-start">
                        <div>
                            <img id="room-detail-image-luxury" src="https://placehold.co/800x600/b08d57/FFFFFF?text=Room+Image" alt="Room Image" class="w-full h-auto object-cover rounded-sm shadow-lg">
                        </div>
                        <div>
                            <h2 id="room-detail-name-luxury" class="font-serif-display text-3xl md:text-4xl mb-4 text-text-dark">Room Name</h2>
                            <p id="room-detail-description-luxury" class="text-gray-600 mb-6 leading-relaxed">Detailed room description...</p>
                            <h4 class="font-serif-display text-xl mb-3 text-text-dark" data-translate-key="room_detail_key_features">Key Features:</h4>
                            <ul id="room-detail-amenities-luxury" class="list-disc list-inside text-gray-600 mb-6 space-y-1 pl-2"></ul>
                            <p class="text-gray-600 mb-2"><i class="fas fa-users mr-2 text-gray-500"></i><span data-translate-key="max_guests">Max Guests</span>: <span id="room-detail-guests-luxury">2</span></p>
                            <p class="text-gray-600 mb-6"><i class="fas fa-bed mr-2 text-gray-500"></i><span data-translate-key="bed_type">Bed Type</span>: <span id="room-detail-bed-luxury">King Bed</span></p>
                            
                            <div class="bg-gray-50 p-6 rounded-sm mb-6 border border-gray-200">
                                <p class="font-serif-display text-3xl text-gray-800 mb-1">NT$ <span id="room-detail-price-luxury">0</span></p>
                                <p class="text-sm text-gray-500"><span data-translate-key="per_night_for_dates">per night for</span> <span id="room-detail-dates-luxury">selected dates</span></p>
                            </div>
                            <button onclick="proceedToBookingFormLuxury()" class="btn-primary-luxury w-full py-3" data-translate-key="room_detail_reserve_this_room">Reserve This Room</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="bookingForm-luxury" class="page-section-luxury hidden py-16 md:py-24 bg-white text-gray-800">             <div class="container mx-auto px-6">
                <div class="max-w-3xl mx-auto">
                     <button onclick="goBackToRoomDetailLuxury()" class="btn-secondary-luxury mb-8 text-sm">
                        <i class="fas fa-arrow-left mr-2"></i><span data-translate-key="booking_form_back_to_details">Back to Room Details</span>
                    </button>
                    <h2 class="font-serif-display text-3xl md:text-4xl mb-8 text-center text-text-dark" data-translate-key="booking_form_complete_reservation">Complete Your Reservation</h2>
                    
                    <div class="mb-8 p-6 bg-gray-50 rounded-sm border border-gray-200">
                        <h3 class="font-serif-display text-xl text-gray-800 mb-3" data-translate-key="booking_form_your_selection">Your Selection:</h3>
                        <p><strong data-translate-key="form_summary_room">Room:</strong> <span id="summary-room-name-luxury" class="text-gray-700">Room Name</span></p>
                        <p><strong data-translate-key="form_summary_dates">Dates:</strong> <span id="summary-dates-luxury" class="text-gray-700">DD/MM/YYYY - DD/MM/YYYY</span></p>
                        <p><strong data-translate-key="form_summary_guests">Guests:</strong> <span id="summary-guests-luxury" class="text-gray-700">2 Guests</span></p>
                        <p class="mt-2"><strong data-translate-key="form_summary_total_price">Total Price:</strong> <span id="summary-total-price-luxury" class="font-bold text-xl text-gray-800">NT$ 0</span></p>
                    </div>

                    <form id="guest-details-form-luxury" class="space-y-6">
                        <div>
                            <h3 class="font-serif-display text-xl text-text-dark mb-4" data-translate-key="booking_form_guest_details">Guest Details</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label for="first-name-luxury" class="form-label-luxury" data-translate-key="booking_form_first_name">First Name</label>
                                    <input type="text" id="first-name-luxury" class="form-input-luxury" required>
                                </div>
                                <div>
                                    <label for="last-name-luxury" class="form-label-luxury" data-translate-key="booking_form_last_name">Last Name</label>
                                    <input type="text" id="last-name-luxury" class="form-input-luxury" required>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label for="email-luxury" class="form-label-luxury" data-translate-key="booking_form_email">Email Address</label>
                                <input type="email" id="email-luxury" class="form-input-luxury" required>
                            </div>
                            <div class="mt-4">
                                <label for="phone-luxury" class="form-label-luxury" data-translate-key="booking_form_phone">Phone Number</label>
                                <input type="tel" id="phone-luxury" class="form-input-luxury" required>
                            </div>
                        </div>

                        <div>
                            <h3 class="font-serif-display text-xl text-text-dark mb-4 mt-8" data-translate-key="booking_form_payment_mock">Payment (Mock)</h3>
                             <div class="mb-4">
                                <label for="card-name-luxury" class="form-label-luxury" data-translate-key="booking_form_name_on_card">Name on Card</label>
                                <input type="text" id="card-name-luxury" class="form-input-luxury" value="Mock User">
                            </div>
                            <div class="mb-4">
                                <label for="card-number-luxury" class="form-label-luxury" data-translate-key="booking_form_card_number">Card Number</label>
                                <input type="text" id="card-number-luxury" class="form-input-luxury" value="**** **** **** 1234">
                            </div>
                            <div class="grid grid-cols-2 gap-6 mb-4">
                                <div>
                                    <label for="expiry-date-luxury" class="form-label-luxury" data-translate-key="booking_form_expiry">Expiry (MM/YY)</label>
                                    <input type="text" id="expiry-date-luxury" class="form-input-luxury" value="12/28">
                                </div>
                                <div>
                                    <label for="cvv-luxury" class="form-label-luxury" data-translate-key="booking_form_cvv">CVV</label>
                                    <input type="text" id="cvv-luxury" class="form-input-luxury" value="***">
                                </div>
                            </div>
                        </div>
                         <div class="mt-8">
                            <label class="flex items-center">
                                <input type="checkbox" id="accept-policy-luxury" class="h-5 w-5 text-accent-gold rounded-sm border-gray-300 focus:ring-accent-gold focus:ring-opacity-50">
                                <span class="ml-3 text-sm text-gray-600" data-translate-key="booking_form_accept_policy">I acknowledge and agree to the <a href="#" class="text-accent-gold hover:underline" data-translate-key="booking_form_booking_conditions">booking conditions</a> and <a href="#" class="text-accent-gold hover:underline" data-translate-key="booking_form_privacy_policy">privacy policy</a>.</span>
                            </label>
                        </div>
                        <button type="submit" id="confirm-booking-luxury-btn" class="btn-primary-luxury w-full py-4 mt-8" data-translate-key="booking_form_confirm_reservation" disabled>Confirm Reservation</button>
                    </form>
                </div>
            </div>
        </section>

        <div id="confirmationModal-luxury" class="modal-luxury">
            <div class="modal-content-luxury text-center">
                <button class="modal-close-btn-luxury" onclick="closeConfirmationModalLuxury()">&times;</button>
                <i class="fas fa-check-circle fa-5x text-green-500 mb-6"></i>
                <h2 class="font-serif-display text-3xl mb-4" data-translate-key="conf_modal_confirmed">Reservation Confirmed</h2>
                <p class="text-gray-300 mb-2" data-translate-key="conf_modal_thank_you">Thank you, <span id="conf-guest-name-luxury" class="font-semibold">Guest</span>, your stay at Roumei Hotel Taipei is confirmed.</p>
                <p class="text-gray-300 mb-2" data-translate-key="conf_modal_email_sent">A confirmation has been sent to <span id="conf-guest-email-luxury" class="font-semibold">your.email@example.com</span>.</p>
                <p class="text-gray-300 mb-6"><strong data-translate-key="conf_modal_booking_id">Booking ID:</strong> <span id="conf-booking-id-luxury" class="font-semibold">ROUMEI12345</span></p>
                <div class="bg-gray-800 bg-opacity-50 p-4 rounded-sm mb-6 text-left text-sm">
                    <h4 class="font-serif-display text-lg mb-2 text-white" data-translate-key="conf_modal_your_stay">Your Stay:</h4>
                    <p><strong data-translate-key="form_summary_room">Room:</strong> <span id="conf-room-name-luxury">Room Name</span></p>
                    <p><strong data-translate-key="form_summary_dates">Dates:</strong> <span id="conf-dates-luxury">DD/MM/YYYY - DD/MM/YYYY</span></p>
                    <p><strong data-translate-key="form_summary_total_price">Total:</strong> <span id="conf-total-price-luxury" class="font-bold">NT$ 0</span></p>
                </div>
                <button onclick="closeConfirmationModalAndResetLuxury()" class="btn-primary-luxury" data-translate-key="conf_modal_return_home">Return Home</button>
            </div>
        </div>
    </main>

    <footer id="contact-luxury" class="py-16 px-6 text-center bg-secondary-dark">
        <h3 class="font-serif-display text-3xl text-white mb-4" data-translate-key="footer_contact_title">Roumei Hotel Taipei</h3>
        <p class="text-gray-400 mb-2 text-sm" data-translate-key="footer_address">No. 2, Jianguo N Rd, Sec 2, Taipei, Taiwan (Example Address)</p>
        <p class="text-gray-400 mb-2 text-sm" data-translate-key="footer_phone">Phone: +886 2 2503 1133 (Example Phone)</p>
        <p class="text-gray-400 mb-6 text-sm" data-translate-key="footer_email">Email: reservations@roumeihotel.com.tw (Example Email)</p>
        <div class="space-x-6 mb-6">
            <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-facebook-f fa-lg"></i></a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-instagram fa-lg"></i></a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors"><i class="fab fa-line fa-lg"></i></a>
        </div>
        <p class="text-xs text-gray-500">&copy; <span id="currentYearLuxury"></span> Roumei Hotel Taipei. All Rights Reserved. Prototype by AI.</p>
    </footer>

    <div id="date-picker-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden date-picker-modal-luxury">
        <div class="date-picker-content bg-white p-6 rounded-lg shadow-xl w-full max-w-xl md:max-w-2xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Select Dates</h3>
                <button id="close-date-picker" class="text-gray-500 hover:text-gray-700">&times;</button>
            </div>
            <div class="flex justify-between items-center mb-2">
                <button id="prev-month-btn" class="p-2"><i class="fas fa-chevron-left"></i></button>
                <div class="flex justify-around w-full">
                    <div id="month-year-display1" class="font-semibold text-center">Month Year</div>
                    <div id="month-year-display2" class="font-semibold text-center hidden md:block">Month Year</div>
                </div>
                <button id="next-month-btn" class="p-2"><i class="fas fa-chevron-right"></i></button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div id="calendar-grid1"></div>
                <div id="calendar-grid2" class="hidden md:block"></div>
            </div>
            <div class="mt-6 flex justify-end">
                <button id="date-picker-done-btn" class="btn-secondary-luxury text-sm">Done</button>
            </div>
        </div>
    </div>


    <script>
        // --- Luxury Theme JavaScript ---
        let currentVisiblePageLuxury = 'home-luxury';
        let searchCriteriaLuxury = { checkin: null, checkout: null, nights: 1, guests: 2 };
        let selectedRoomForCheckoutLuxury = null;

        const heroLuxuryImages = [
            'https://www.roumeihotel.com.tw/assets/images/roumei-boutique-1.jpg',
            'https://www.roumeihotel.com.tw/assets/images/beauty_hotels_taipei_roumei_hotel_home_banner_lobby.jpg',
            'https://www.roumeihotel.com.tw/assets/images/roumei-boutique-hall.jpg',
            'https://www.roumeihotel.com.tw/assets/images/roumei-boutique-hotel-business-center.jpg',
            'https://www.roumeihotel.com.tw/assets/images/excise.jpg'
        ];
        let currentHeroLuxuryImageIndex = 0;
        const heroBgLuxuryElement = document.querySelector('.hero-bg-luxury');

        function rotateHeroLuxuryImages() {
            if (!heroBgLuxuryElement) return;
            currentHeroLuxuryImageIndex = (currentHeroLuxuryImageIndex + 1) % heroLuxuryImages.length;
            heroBgLuxuryElement.style.backgroundImage = `url('${heroLuxuryImages[currentHeroLuxuryImageIndex]}')`;
        }

        const translations = {
            en: {
                // Header
                nav_home: "Home",
                nav_rooms: "Rooms",
                nav_contact: "Contact",
                nav_book_now: "Book Now",
                nav_book_a_room: "Book a Room",
                // Hero
                hero_welcome: "Welcome to Roumei Hotel Taipei",
                hero_reserve_stay: "Reserve Your Stay",
                hero_arrival: "Arrival",
                hero_departure: "Departure",
                hero_guests: "Guests",
                hero_check_availability: "Check Availability",
                // Accommodations section
                accom_title: "Our Accommodations",
                accom_explore_room: "Explore Room",
                // Rooms List section
                rooms_list_available_rooms: "Available Rooms",
                rooms_list_showing_availability: "Showing availability for your selected dates.",
                rooms_list_details_reserve: "Details & Reserve",
                rooms_list_no_rooms: "No Rooms Available",
                rooms_list_no_rooms_desc: "We\'re sorry, no rooms match your criteria for the selected dates. Please try alternative dates.",
                // Room Detail
                room_detail_back_to_rooms: "Back to Rooms",
                room_detail_key_features: "Key Features:",
                room_detail_reserve_this_room: "Reserve This Room",
                // Booking Form
                booking_form_back_to_details: "Back to Room Details",
                booking_form_complete_reservation: "Complete Your Reservation",
                booking_form_your_selection: "Your Selection:",
                booking_form_guest_details: "Guest Details",
                booking_form_first_name: "First Name",
                booking_form_last_name: "Last Name",
                booking_form_email: "Email Address",
                booking_form_phone: "Phone Number",
                booking_form_payment_mock: "Payment (Mock)",
                booking_form_name_on_card: "Name on Card",
                booking_form_card_number: "Card Number",
                booking_form_expiry: "Expiry (MM/YY)",
                booking_form_cvv: "CVV",
                booking_form_accept_policy: "I acknowledge and agree to the {booking_conditions} and {privacy_policy}.",
                booking_form_booking_conditions: "booking conditions",
                booking_form_privacy_policy: "privacy policy",
                booking_form_confirm_reservation: "Confirm Reservation",
                // Confirmation Modal
                conf_modal_confirmed: "Reservation Confirmed",
                conf_modal_thank_you: "Thank you, {guest_name}, your stay at Roumei Hotel Taipei is confirmed.",
                conf_modal_email_sent: "A confirmation has been sent to {guest_email}.",
                conf_modal_booking_id: "Booking ID:",
                conf_modal_your_stay: "Your Stay:",
                conf_modal_return_home: "Return Home",
                // Footer
                footer_contact_title: "Roumei Hotel Taipei",
                footer_address: "No. 2, Jianguo N Rd, Sec 2, Taipei, Taiwan (Example Address)",
                footer_phone: "Phone: +886 2 2503 1133 (Example Phone)",
                footer_email: "Email: reservations@roumeihotel.com.tw (Example Email)",
                // General
                max_guests: "Max Guests",
                bed_type: "Bed Type",
                per_night_for_dates: "per night for selected dates",
                per_night: "night",
                total_price: "Total",
                for_nights_before: "for",
                night_singular: "night",
                nights_plural: "nights",
                // Room specific (add for each room as needed)
                room_id_superior_name: "高級客房 (Superior Room)",
                room_id_superior_description_short: "Cozy comfort with elegant touches, perfect for a relaxing stay. Features a plush double bed and a single-size bathtub.",
                room_id_superior_description_full: "Cozy comfort with elegant touches, perfect for a relaxing stay. Features a plush double bed, a modern en-suite bathroom with a single-size bathtub, complimentary high-speed WiFi, air conditioning, an LCD TV with international channels, and a mini fridge. Perfect for solo travelers or couples.",
                room_id_superior_description_short_home: "Cozy comfort with elegant touches, perfect for a relaxing stay.",
                room_id_superior_bed_type: "1 Double Bed",
                room_id_superior_alt: "Superior Room Image",
                room_id_deluxe_name: "豪華客房 (Deluxe Room)",
                room_id_deluxe_description_short_home: "Spacious and refined, offering an elevated level of comfort and style.",
                room_id_executive_name: "行政商務客房 (Executive Business Room)",
                room_id_executive_description_short_home: "Ideal for the discerning traveler, with premium amenities and ample workspace.",
                room_id_triple_name: "行政商務三人房 (Executive Triple)",
                // Amenities (add as needed, ensure keys match JS processing: lowercase, underscore for space)
                amenity_single_size_bathtub: "Single-size Bathtub",
                amenity_free_wifi: "Free WiFi",
                amenity_air_conditioning: "Air Conditioning",
                amenity_lcd_tv: "LCD TV",
                amenity_mini_fridge: "Mini Fridge",
                amenity_work_desk: "Work Desk",
                amenity_enhanced_toiletries: "Enhanced Toiletries",
                amenity_double_size_bathtub: "Double-size Bathtub",
                amenity_large_lcd_tv: "Large LCD TV",
                amenity_mini_bar: "Mini Bar",
                amenity_premium_toiletries: "Premium Toiletries",
                amenity_sofa_area: "Sofa Area",
                amenity_coffee_tea_maker: "Coffee/Tea Maker",

                hero_tagline: "Discover boutique elegance and serene comfort in the heart of the city.",
                room_price_from: "From NT$"

            },
            'zh-TW': {
                // Header
                nav_home: "首頁",
                nav_rooms: "客房介紹",
                nav_contact: "聯絡我們",
                nav_book_now: "立即預訂",
                nav_book_a_room: "預訂客房",
                // Hero
                hero_welcome: "台北柔美精品商旅歡迎您",
                hero_reserve_stay: "預訂您的住宿",
                hero_arrival: "入住日期",
                hero_departure: "退房日期",
                hero_guests: "入住人數",
                hero_check_availability: "查詢空房",
                // Accommodations section
                accom_title: "我們的房型",
                accom_explore_room: "探索客房",
                // Rooms List section
                rooms_list_available_rooms: "可預訂客房",
                rooms_list_showing_availability: "顯示您所選日期的空房情況。",
                rooms_list_details_reserve: "查看詳情與預訂",
                rooms_list_no_rooms: "目前沒有空房",
                rooms_list_no_rooms_desc: "對不起，您所選的日期已無空房。請嘗試其他日期。",
                // Room Detail
                room_detail_back_to_rooms: "返回客房列表",
                room_detail_key_features: "主要設施：",
                room_detail_reserve_this_room: "預訂此客房",
                // Booking Form
                booking_form_back_to_details: "返回客房詳情",
                booking_form_complete_reservation: "完成您的預訂",
                booking_form_your_selection: "您的選擇：",
                booking_form_guest_details: "住客資料",
                booking_form_first_name: "名字",
                booking_form_last_name: "姓氏",
                booking_form_email: "電子郵件",
                booking_form_phone: "電話號碼",
                booking_form_payment_mock: "付款資訊 (模擬)",
                booking_form_name_on_card: "持卡人姓名",
                booking_form_card_number: "信用卡號碼",
                booking_form_expiry: "有效期限 (MM/YY)",
                booking_form_cvv: "安全碼 (CVV)",
                booking_form_accept_policy: "我已閱讀並同意 {booking_conditions} 和 {privacy_policy}。",
                booking_form_booking_conditions: "預訂條款",
                booking_form_privacy_policy: "隱私政策",
                booking_form_confirm_reservation: "確認預訂",
                // Confirmation Modal
                conf_modal_confirmed: "預訂已確認",
                conf_modal_thank_you: "謝謝您，{guest_name}，您在台北柔美精品商旅的住宿已確認。",
                conf_modal_email_sent: "確認郵件已發送至 {guest_email}。",
                conf_modal_booking_id: "預訂編號：",
                conf_modal_your_stay: "您的住宿：",
                conf_modal_return_home: "返回首頁",
                // Footer
                footer_contact_title: "台北柔美精品商旅",
                footer_address: "台灣台北市建國北路二段2號 (範例地址)",
                footer_phone: "電話：+886 2 2503 1133 (範例電話)",
                footer_email: "電子郵件：reservations@roumeihotel.com.tw (範例電郵)",
                 // General
                max_guests: "最多入住",
                bed_type: "床型",
                per_night_for_dates: "每晚價格 (所選日期)",
                per_night: "晚",
                total_price: "總計",
                for_nights_before: "", // In Chinese, "for X nights" might be "X 晚" directly as part of total.
                night_singular: "晚",
                nights_plural: "晚",
                // Room specific
                room_id_superior_name: "高級客房",
                room_id_superior_description_short: "溫馨舒適，設計典雅，為您提供完美的休憩之選。配備舒適雙人床和單人浴缸。",
                room_id_superior_description_full: "溫馨舒適，設計典雅，為您提供完美的休憩之選。房內設有一張舒適雙人床、現代化衛浴設備（含單人浴缸）、免費高速無線網路、空調、液晶電視（國際頻道）及迷你冰箱。適合單人旅客或情侶入住。",
                room_id_superior_description_short_home: "溫馨舒適，設計典雅，為您提供完美的休憩之選。",
                room_id_superior_bed_type: "1張雙人床",
                room_id_superior_alt: "高級客房圖片",
                room_id_deluxe_name: "豪華客房",
                room_id_deluxe_description_short_home: "寬敞精緻，提供更高層次的舒適與格調。",
                room_id_executive_name: "行政商務客房",
                room_id_executive_description_short_home: "為品味卓越的旅客而設，提供高級設施及充足工作空間。",
                room_id_triple_name: "行政商務三人房",

                // Amenities
                amenity_single_size_bathtub: "單人浴缸",
                amenity_free_wifi: "免費無線網路",
                amenity_air_conditioning: "空調",
                amenity_lcd_tv: "液晶電視",
                amenity_mini_fridge: "迷你冰箱",
                amenity_work_desk: "辦公桌",
                amenity_enhanced_toiletries: "升級盥洗用品",
                amenity_double_size_bathtub: "雙人浴缸",
                amenity_large_lcd_tv: "大型液晶電視",
                amenity_mini_bar: "迷你吧",
                amenity_premium_toiletries: "高級盥洗用品",
                amenity_sofa_area: "沙發區",
                amenity_coffee_tea_maker: "咖啡/茶沖泡設備",

                hero_tagline: "在市中心發現精品般的優雅與寧靜舒適。",
                room_price_from: "NT$ 起"
            }
            // Add other languages here: ja, ko, zh-CN
        };
        let currentLanguage = localStorage.getItem('preferredLanguage') || 'en';

        function setLanguage(lang) {
            if (!translations[lang]) {
                console.warn(`Language "${lang}" not found in translations. Defaulting to English.`);
                lang = 'en';
            }
            currentLanguage = lang;
            localStorage.setItem('preferredLanguage', lang);
            if(currentLangDisplay) currentLangDisplay.textContent = langDropdown.querySelector(`a[data-lang="${lang}"]`).textContent;

            document.querySelectorAll('[data-translate-key]').forEach(element => {
                const key = element.getAttribute('data-translate-key');
                let translatedText = translations[lang][key] || translations['en'][key] || element.textContent; // Fallback

                // Handle placeholders like {placeholder_name}
                if (translatedText && translatedText.includes('{')) {
                    if (key === 'booking_form_accept_policy') {
                        const bookingConditionsLink = `<a href="#" class="text-accent-gold hover:underline" data-translate-key="booking_form_booking_conditions">${translations[lang]['booking_form_booking_conditions'] || translations['en']['booking_form_booking_conditions']}</a>`;
                        const privacyPolicyLink = `<a href="#" class="text-accent-gold hover:underline" data-translate-key="booking_form_privacy_policy">${translations[lang]['booking_form_privacy_policy'] || translations['en']['booking_form_privacy_policy']}</a>`;
                        translatedText = translatedText.replace('{booking_conditions}', bookingConditionsLink).replace('{privacy_policy}', privacyPolicyLink);
                        element.innerHTML = translatedText; // Use innerHTML for links
                    } else {
                         // For other placeholders, if any, this simple replacement can be expanded
                        // For now, we just set textContent if no special handling is needed
                        element.textContent = translatedText;
                    }
                } else {
                    element.textContent = translatedText;
                }

                // Special handling for input placeholders or values if needed
                if (element.tagName === 'INPUT' && element.hasAttribute('placeholder') && translations[lang][key + '_placeholder']) {
                    element.placeholder = translations[lang][key + '_placeholder'] || translations['en'][key + '_placeholder'];
                }
            });

            // Update search dates info specifically as it's dynamically generated
            const searchDatesInfoLuxury = document.getElementById('search-dates-info-luxury');
            if (searchDatesInfoLuxury && searchCriteriaLuxury.checkin && searchCriteriaLuxury.checkout) {
                 if (lang === 'zh-TW') {
                    searchDatesInfoLuxury.textContent = `顯示從 ${formatDateLuxury(searchCriteriaLuxury.checkin, 'zh-TW')} 到 ${formatDateLuxury(searchCriteriaLuxury.checkout, 'zh-TW')}，${searchCriteriaLuxury.guests} 位貴賓的空房情況。`;
                } else { // Default to English or other languages
                    searchDatesInfoLuxury.textContent = `Showing availability from ${formatDateLuxury(searchCriteriaLuxury.checkin, 'en-US')} to ${formatDateLuxury(searchCriteriaLuxury.checkout, 'en-US')} for ${searchCriteriaLuxury.guests} guest(s).`;
                }
            }
             // Update room prices on the home page (featured rooms)
            updateFeaturedRoomPrices();
            // If on rooms list page, re-populate to apply language to dynamic content
            if (currentVisiblePageLuxury === 'roomsList-luxury') {
                populateLuxuryRoomListings();
            }
            // If on room detail page, re-populate to apply language to dynamic content
            if (currentVisiblePageLuxury === 'roomDetail-luxury' && selectedRoomForCheckoutLuxury) {
                 showRoomDetailLuxury(selectedRoomForCheckoutLuxury.id); // This will re-render with current lang
            }
        }

        function updateFeaturedRoomPrices() {
            document.querySelectorAll('#accommodations-luxury .featured-room-card-luxury').forEach((card, index) => {
                const roomData = mockRoumeiRoomsData[index]; 
                if (!roomData) return;

                // Handle room name translation if it's static on the card (already done by data-translate-key if present)
                // const titleElement = card.querySelector('h3[data-translate-key]');
                // if (titleElement) { /* setLanguage handles this */ }

                // Handle "Explore Room" button text
                const exploreButton = card.querySelector('button');
                if (exploreButton) {
                    const exploreKey = exploreButton.getAttribute('data-translate-key');
                    if (exploreKey) {
                         exploreButton.textContent = translations[currentLanguage][exploreKey] || translations['en'][exploreKey] || exploreButton.textContent;
                    }
                }

                // Handle Price Display: "From NT$ {price}"
                const priceElement = card.querySelector('.featured-room-card-content-luxury .mt-auto p.text-lg.font-bold');
                if (priceElement) {
                    const priceTemplateKey = 'text_room_price_from_template';
                    let translatedPattern = translations[currentLanguage][priceTemplateKey] || translations['en'][priceTemplateKey];
                    if (translatedPattern) {
                        priceElement.textContent = translatedPattern.replace('{price}', roomData.price.toLocaleString());
                    } else {
                        // Fallback if template is missing for some reason
                        priceElement.textContent = `NT$ ${roomData.price.toLocaleString()}`;
                    }
                }
            });
        }

        const mockRoumeiRoomsData = [
            { 
                id: 'superior', 
                name: '高級客房 (Superior Room)', // This can be a fallback or key for dynamic lookup too
                description: 'Cozy comfort with elegant touches, perfect for a relaxing stay. Features a plush double bed and a single-size bathtub.', // Fallback full description
                price: 2266, 
                guests: 2, 
                bed: '1 Double Bed', // Fallback bed type
                amenities: ['Single-size Bathtub', 'Free WiFi', 'Air Conditioning', 'LCD TV', 'Mini Fridge'],
                image: 'https://www.roumeihotel.com/assets/images/Superior-2.jpg'
            },
            { 
                id: 'deluxe', 
                name: '豪華客房 (Deluxe Room)', 
                description: 'Spacious and refined, offering an elevated level of comfort and style with a single-size bathtub.',
                price: 2530, 
                guests: 2, 
                bed: '1 Double Bed',
                amenities: ['Single-size Bathtub', 'Free WiFi', 'Air Conditioning', 'Work Desk', 'Enhanced Toiletries'],
                image: 'https://www.roumeihotel.com/assets/images/luxury-3.jpg' 
            },
            { 
                id: 'executive', 
                name: '行政商務客房 (Executive Business Room)', 
                description: 'Ideal for the discerning traveler, with premium amenities, a double-size bathtub, and ample workspace.',
                price: 2965, 
                guests: 2, 
                bed: '1 King Bed',
                amenities: ['Double-size Bathtub', 'Free WiFi', 'Large LCD TV', 'Mini Bar', 'Premium Toiletries'],
                image: 'https://www.roumeihotel.com/assets/images/Executive-3.jpg' 
            },
            { 
                id: 'triple', 
                name: '行政商務三人房 (Executive Triple)', 
                description: 'Perfect for small families or groups, offering ample space with one large and one small bed, and a double-size bathtub.',
                price: 3645, 
                guests: 3, 
                bed: '1 Large Bed + 1 Small Bed',
                amenities: ['Double-size Bathtub', 'Free WiFi', 'Sofa Area', 'Coffee/Tea Maker'],
                image: 'https://www.roumeihotel.com.tw/assets/images/roumei-boutique-hotel-business-center.jpg'
            }
        ];
        
        const luxuryPages = {
            'home-luxury': document.getElementById('home-luxury'),
            'roomsList-luxury': document.getElementById('roomsList-luxury'),
            'roomDetail-luxury': document.getElementById('roomDetail-luxury'),
            'bookingForm-luxury': document.getElementById('bookingForm-luxury')
        };
        const luxuryConfirmationModal = document.getElementById('confirmationModal-luxury');
        const luxuryBookingForm = document.getElementById('booking-form-luxury');
        const luxuryCheckinDateInput = document.getElementById('checkin-date-luxury');
        const luxuryCheckoutDateInput = document.getElementById('checkout-date-luxury');
        
        const luxuryDatePickerModal = document.getElementById('date-picker-modal');
        const luxuryCloseDatePickerBtn = luxuryDatePickerModal.querySelector('#close-date-picker');
        const luxuryPrevMonthBtn = luxuryDatePickerModal.querySelector('#prev-month-btn');
        const luxuryNextMonthBtn = luxuryDatePickerModal.querySelector('#next-month-btn');
        const luxuryMonthYearDisplay1 = luxuryDatePickerModal.querySelector('#month-year-display1');
        const luxuryMonthYearDisplay2 = luxuryDatePickerModal.querySelector('#month-year-display2');
        const luxuryCalendarGrid1 = luxuryDatePickerModal.querySelector('#calendar-grid1');
        const luxuryCalendarGrid2 = luxuryDatePickerModal.querySelector('#calendar-grid2');
        const luxuryDatePickerDoneBtn = luxuryDatePickerModal.querySelector('#date-picker-done-btn');
        
        let luxuryCurrentMonth1 = new Date().getMonth();
        let luxuryCurrentYear1 = new Date().getFullYear();
        let luxurySelectedCheckin = null;
        let luxurySelectedCheckout = null;

        function showPageLuxury(pageId) {
            Object.values(luxuryPages).forEach(page => { if(page) page.classList.add('hidden'); });
            if (luxuryPages[pageId]) {
                luxuryPages[pageId].classList.remove('hidden');
                currentVisiblePageLuxury = pageId;
                window.scrollTo(0, 0); 
            } else {
                // This part handles scrolling to sections within the home-luxury page
                const targetElement = document.getElementById(pageId);
                if (targetElement && luxuryPages['home-luxury']) {
                    luxuryPages['home-luxury'].classList.remove('hidden'); // Ensure home is visible
                    currentVisiblePageLuxury = 'home-luxury'; // Update current page state
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        }

        function scrollToSectionLuxury(sectionId) {
            const targetElement = document.getElementById(sectionId);
            if (targetElement) {
                // If not already on home, switch to home then scroll
                if (currentVisiblePageLuxury !== 'home-luxury' && luxuryPages['home-luxury']) {
                     Object.values(luxuryPages).forEach(page => { if(page) page.classList.add('hidden'); });
                     luxuryPages['home-luxury'].classList.remove('hidden');
                     currentVisiblePageLuxury = 'home-luxury';
                     // Give the browser a moment to render the home page before scrolling
                     setTimeout(() => {
                        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                     }, 50); // Reduced timeout
                } else {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
            closeMobileMenuLuxury(); 
        }
        
        const mobileMenuLuxury = document.getElementById('mobile-menu-luxury');
        const mobileMenuButtonLuxury = document.getElementById('mobile-menu-button-luxury');
        const mobileMenuCloseLuxury = document.getElementById('mobile-menu-close-luxury');

        function openMobileMenuLuxury() { if (mobileMenuLuxury) mobileMenuLuxury.classList.add('open'); }
        function closeMobileMenuLuxury() { if (mobileMenuLuxury) mobileMenuLuxury.classList.remove('open'); }
        if (mobileMenuButtonLuxury) mobileMenuButtonLuxury.addEventListener('click', openMobileMenuLuxury);
        if (mobileMenuCloseLuxury) mobileMenuCloseLuxury.addEventListener('click', closeMobileMenuLuxury);

        function renderLuxuryCalendar(month, year, gridElement, displayElement) {
            if (!gridElement || !displayElement) return;
            gridElement.innerHTML = ''; 
            displayElement.textContent = `${new Date(year, month).toLocaleString('default', { month: 'long' })} ${year}`;
            const daysOfWeek = ['S', 'M', 'T', 'W', 'T', 'F', 'S']; 
            const headerRow = document.createElement('div');
            headerRow.className = 'grid grid-cols-7 text-center text-xs text-gray-400 mb-2';
            daysOfWeek.forEach(day => {
                const dayEl = document.createElement('div'); dayEl.textContent = day; headerRow.appendChild(dayEl);
            });
            gridElement.appendChild(headerRow);
            const daysGrid = document.createElement('div'); daysGrid.className = 'grid grid-cols-7 text-center text-sm';
            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date(); today.setHours(0,0,0,0);
            for (let i = 0; i < firstDayOfMonth; i++) { daysGrid.appendChild(document.createElement('div')); }
            for (let day = 1; day <= daysInMonth; day++) {
                const dayEl = document.createElement('div'); dayEl.textContent = day;
                dayEl.className = 'calendar-day p-2 rounded-full cursor-pointer';
                const currentDate = new Date(year, month, day);
                if (currentDate < today) { dayEl.classList.add('disabled', 'text-gray-600'); } 
                else { dayEl.addEventListener('click', () => handleLuxuryDateClick(currentDate)); }
                if (luxurySelectedCheckin && currentDate.getTime() === luxurySelectedCheckin.getTime()) dayEl.classList.add('selected-start');
                if (luxurySelectedCheckout && currentDate.getTime() === luxurySelectedCheckout.getTime()) dayEl.classList.add('selected-end');
                if (luxurySelectedCheckin && luxurySelectedCheckout && currentDate > luxurySelectedCheckin && currentDate < luxurySelectedCheckout) dayEl.classList.add('in-range');
                if (currentDate.getTime() === today.getTime()) dayEl.classList.add('today');
                daysGrid.appendChild(dayEl);
            }
            gridElement.appendChild(daysGrid);
        }
        function handleLuxuryDateClick(date) {
            if (!luxurySelectedCheckin || (luxurySelectedCheckin && luxurySelectedCheckout)) {
                luxurySelectedCheckin = date; luxurySelectedCheckout = null;
            } else if (date < luxurySelectedCheckin) { luxurySelectedCheckin = date; } 
            else { luxurySelectedCheckout = date; }
            renderAllLuxuryCalendars();
        }
        function renderAllLuxuryCalendars() {
            renderLuxuryCalendar(luxuryCurrentMonth1, luxuryCurrentYear1, luxuryCalendarGrid1, luxuryMonthYearDisplay1);
            let luxuryCurrentMonth2 = luxuryCurrentMonth1 + 1;
            let luxuryCurrentYear2 = luxuryCurrentYear1;
            if (luxuryCurrentMonth2 > 11) { luxuryCurrentMonth2 = 0; luxuryCurrentYear2++; }
            renderLuxuryCalendar(luxuryCurrentMonth2, luxuryCurrentYear2, luxuryCalendarGrid2, luxuryMonthYearDisplay2);
        }
        if(luxuryPrevMonthBtn) luxuryPrevMonthBtn.addEventListener('click', () => {
            luxuryCurrentMonth1--; if (luxuryCurrentMonth1 < 0) { luxuryCurrentMonth1 = 11; luxuryCurrentYear1--; } renderAllLuxuryCalendars();
        });
        if(luxuryNextMonthBtn) luxuryNextMonthBtn.addEventListener('click', () => {
            luxuryCurrentMonth1++; if (luxuryCurrentMonth1 > 11) { luxuryCurrentMonth1 = 0; luxuryCurrentYear1++; } renderAllLuxuryCalendars();
        });
        function openLuxuryDatePicker() {
            luxurySelectedCheckin = searchCriteriaLuxury.checkin ? new Date(searchCriteriaLuxury.checkin) : null;
            luxurySelectedCheckout = searchCriteriaLuxury.checkout ? new Date(searchCriteriaLuxury.checkout) : null;
            const todayForCalendar = new Date();
            luxuryCurrentMonth1 = luxurySelectedCheckin ? luxurySelectedCheckin.getMonth() : todayForCalendar.getMonth();
            luxuryCurrentYear1 = luxurySelectedCheckin ? luxurySelectedCheckin.getFullYear() : todayForCalendar.getFullYear();
            renderAllLuxuryCalendars();
            if(luxuryDatePickerModal) luxuryDatePickerModal.style.display = 'flex';
        }
        if(luxuryCheckinDateInput) luxuryCheckinDateInput.addEventListener('click', openLuxuryDatePicker);
        if(luxuryCheckoutDateInput) luxuryCheckoutDateInput.addEventListener('click', openLuxuryDatePicker);
        if(luxuryCloseDatePickerBtn) luxuryCloseDatePickerBtn.addEventListener('click', () => luxuryDatePickerModal.style.display = 'none');
        if(luxuryDatePickerDoneBtn) luxuryDatePickerDoneBtn.addEventListener('click', () => {
            if (luxurySelectedCheckin && luxurySelectedCheckout && luxurySelectedCheckout > luxurySelectedCheckin) {
                searchCriteriaLuxury.checkin = luxurySelectedCheckin.toISOString().split('T')[0];
                searchCriteriaLuxury.checkout = luxurySelectedCheckout.toISOString().split('T')[0];
                const oneDay = 24 * 60 * 60 * 1000;
                searchCriteriaLuxury.nights = Math.round(Math.abs((luxurySelectedCheckout - luxurySelectedCheckin) / oneDay));
                if(luxuryCheckinDateInput) luxuryCheckinDateInput.value = searchCriteriaLuxury.checkin;
                if(luxuryCheckoutDateInput) luxuryCheckoutDateInput.value = searchCriteriaLuxury.checkout;
                if(luxuryDatePickerModal) luxuryDatePickerModal.style.display = 'none';
            } else { alert('Please select a valid check-in and check-out date.'); }
        });

        if (luxuryBookingForm) {
            luxuryBookingForm.addEventListener('submit', (e) => {
                e.preventDefault();
                searchCriteriaLuxury.checkin = luxuryCheckinDateInput.value;
                searchCriteriaLuxury.checkout = luxuryCheckoutDateInput.value;
                searchCriteriaLuxury.guests = parseInt(document.getElementById('guests-luxury').value);
                if (!searchCriteriaLuxury.checkin || !searchCriteriaLuxury.checkout) { alert('Please select your dates.'); return; }
                if (new Date(searchCriteriaLuxury.checkout) <= new Date(searchCriteriaLuxury.checkin)) { alert('Departure date must be after arrival date.'); return; }
                const oneDay = 24 * 60 * 60 * 1000;
                searchCriteriaLuxury.nights = Math.round(Math.abs((new Date(searchCriteriaLuxury.checkout) - new Date(searchCriteriaLuxury.checkin)) / oneDay));
                document.getElementById('search-dates-info-luxury').textContent = `Showing availability from ${formatDateLuxury(searchCriteriaLuxury.checkin)} to ${formatDateLuxury(searchCriteriaLuxury.checkout)} for ${searchCriteriaLuxury.guests} guest(s).`;
                populateLuxuryRoomListings();
                showPageLuxury('roomsList-luxury');
            });
        }
        function formatDateLuxury(dateString, locale = 'en-US') {
            if (!dateString) return 'N/A';
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(locale, options);
        }
        
        function populateLuxuryRoomListings() {
            const container = document.getElementById('available-rooms-container-luxury');
            const noRoomsMsg = document.getElementById('no-rooms-message-luxury');
            if (!container || !noRoomsMsg) return;
            container.innerHTML = '';
            let roomsFound = false;
            mockRoumeiRoomsData.forEach(room => {
                if (room.guests >= searchCriteriaLuxury.guests) {
                    roomsFound = true;
                    const totalPrice = room.price * searchCriteriaLuxury.nights;
                    const card = `
                        <div class="room-list-item-luxury mb-6">
                            <div class="room-image-container">
                                <img src="${room.image}" alt="${translations[currentLanguage]['room_id_' + room.id + '_alt'] || room.name}">
                            </div>
                            <div class="room-content">
                                <div class="room-details">
                                    <h3 class="font-serif-display text-2xl mb-2 text-white">${translations[currentLanguage]['room_id_' + room.id + '_name'] || room.name}</h3>
                                    <p class="text-sm text-text-secondary-light mb-1">${translations[currentLanguage].max_guests || 'Max Guests'}: ${room.guests} • ${translations[currentLanguage].bed_type || 'Bed'}: ${translations[currentLanguage]['room_id_' + room.id + '_bed_type'] || room.bed}</p>
                                    <p class="text-sm text-text-secondary-light mb-3">${(translations[currentLanguage]['room_id_' + room.id + '_description_short'] || room.description).substring(0,120)}...</p>
                                    <ul class="text-xs text-text-secondary-light list-disc list-inside mb-3">
                                        ${room.amenities.slice(0,3).map(a => `<li>${translations[currentLanguage]['amenity_' + a.toLowerCase().replace(/ /g, '_')] || a}</li>`).join('')}
                                    </ul>
                                </div>
                                <div class="room-actions">
                                    <p class="text-xl font-bold text-white mb-2">NT$ ${room.price.toLocaleString()} <span class="text-xs font-normal text-text-secondary-light">/ ${translations[currentLanguage].per_night || 'night'}</span></p>
                                    <p class="text-sm text-text-secondary-light mb-3">${translations[currentLanguage].total_price || 'Total'}: NT$ ${totalPrice.toLocaleString()} ${translations[currentLanguage].for_nights_before || 'for'} ${searchCriteriaLuxury.nights} ${searchCriteriaLuxury.nights > 1 ? (translations[currentLanguage].nights_plural || 'nights') : (translations[currentLanguage].night_singular || 'night')}</p>
                                    <button onclick="showRoomDetailLuxury('${room.id}')" class="btn-secondary-luxury w-full sm:w-auto text-sm" data-translate-key="rooms_list_details_reserve">${translations[currentLanguage].rooms_list_details_reserve || translations['en'].rooms_list_details_reserve}</button>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += card;
                }
            });
            noRoomsMsg.style.display = roomsFound ? 'none' : 'block';
        }

        function showRoomDetailLuxury(roomId) {
            selectedRoomForCheckoutLuxury = mockRoumeiRoomsData.find(r => r.id === roomId); 
            if (!selectedRoomForCheckoutLuxury) return;

            const roomNameKey = 'room_id_' + selectedRoomForCheckoutLuxury.id + '_name';
            const roomDescriptionKey = 'room_id_' + selectedRoomForCheckoutLuxury.id + '_description_full'; // Assuming a more detailed description key
            const roomBedKey = 'room_id_' + selectedRoomForCheckoutLuxury.id + '_bed_type';

            document.getElementById('room-detail-name-luxury').textContent = translations[currentLanguage][roomNameKey] || selectedRoomForCheckoutLuxury.name;
            document.getElementById('room-detail-image-luxury').src = selectedRoomForCheckoutLuxury.image;
            document.getElementById('room-detail-image-luxury').alt = translations[currentLanguage]['room_id_' + selectedRoomForCheckoutLuxury.id + '_alt'] || selectedRoomForCheckoutLuxury.name;
            document.getElementById('room-detail-description-luxury').textContent = translations[currentLanguage][roomDescriptionKey] || selectedRoomForCheckoutLuxury.description;
            
            const amenitiesList = document.getElementById('room-detail-amenities-luxury');
            amenitiesList.innerHTML = '';
            selectedRoomForCheckoutLuxury.amenities.forEach(amenity => {
                const amenityKey = 'amenity_' + amenity.toLowerCase().replace(/ /g, '_');
                const li = document.createElement('li'); 
                li.textContent = translations[currentLanguage][amenityKey] || amenity; 
                amenitiesList.appendChild(li);
            });
            document.getElementById('room-detail-guests-luxury').textContent = selectedRoomForCheckoutLuxury.guests; // Assuming guests number is not translated
            document.getElementById('room-detail-bed-luxury').textContent = translations[currentLanguage][roomBedKey] || selectedRoomForCheckoutLuxury.bed;
            document.getElementById('room-detail-price-luxury').textContent = selectedRoomForCheckoutLuxury.price.toLocaleString();
            
            let datesText;
            const nights = searchCriteriaLuxury.nights;
            const nightText = nights > 1 ? (translations[currentLanguage].nights_plural || 'nights') : (translations[currentLanguage].night_singular || 'night');
            if (currentLanguage === 'zh-TW') {
                datesText = `${formatDateLuxury(searchCriteriaLuxury.checkin, 'zh-TW')} - ${formatDateLuxury(searchCriteriaLuxury.checkout, 'zh-TW')} (${nights} ${nightText})`;
            } else {
                datesText = `${formatDateLuxury(searchCriteriaLuxury.checkin, 'en-US')} - ${formatDateLuxury(searchCriteriaLuxury.checkout, 'en-US')} (${nights} ${nightText})`;
            }
            document.getElementById('room-detail-dates-luxury').textContent = datesText;
            
            // Ensure button text is also translated if it was missed by a general data-translate-key
            const reserveButton = document.querySelector('#roomDetail-luxury .btn-primary-luxury');
            if(reserveButton) reserveButton.textContent = translations[currentLanguage].room_detail_reserve_this_room || translations['en'].room_detail_reserve_this_room;

            const backButton = document.querySelector('#roomDetail-luxury .btn-secondary-luxury');
             if(backButton) {
                const icon = '<i class="fas fa-arrow-left mr-2"></i>';
                backButton.innerHTML = icon + (translations[currentLanguage].room_detail_back_to_rooms || translations['en'].room_detail_back_to_rooms);
            }

            showPageLuxury('roomDetail-luxury');
        }
        function goBackToRoomsLuxury() { showPageLuxury('roomsList-luxury'); }
        function goBackToRoomDetailLuxury() { 
            if(selectedRoomForCheckoutLuxury) showRoomDetailLuxury(selectedRoomForCheckoutLuxury.id);
            else showPageLuxury('roomsList-luxury');
        }
        function proceedToBookingFormLuxury() {
            if (!selectedRoomForCheckoutLuxury || !searchCriteriaLuxury.checkin) { alert("Please select a room and dates first."); showPageLuxury('home-luxury'); return; }
            const totalPrice = selectedRoomForCheckoutLuxury.price * searchCriteriaLuxury.nights;
            document.getElementById('summary-room-name-luxury').textContent = selectedRoomForCheckoutLuxury.name;
            document.getElementById('summary-dates-luxury').textContent = `${formatDateLuxury(searchCriteriaLuxury.checkin)} - ${formatDateLuxury(searchCriteriaLuxury.checkout)} (${searchCriteriaLuxury.nights} night${searchCriteriaLuxury.nights > 1 ? 's' : ''})`;
            document.getElementById('summary-guests-luxury').textContent = `${searchCriteriaLuxury.guests} Guest(s)`;
            document.getElementById('summary-total-price-luxury').textContent = `NT$ ${totalPrice.toLocaleString()}`;
            showPageLuxury('bookingForm-luxury');
        }
        const luxuryGuestDetailsForm = document.getElementById('guest-details-form-luxury');
        const luxuryConfirmBookingBtn = document.getElementById('confirm-booking-luxury-btn');
        const luxuryAcceptPolicyCheckbox = document.getElementById('accept-policy-luxury');
        function checkLuxuryFormValidity() {
            if(luxuryGuestDetailsForm && luxuryAcceptPolicyCheckbox && luxuryConfirmBookingBtn){
                const isFormValid = luxuryGuestDetailsForm.checkValidity(); 
                luxuryConfirmBookingBtn.disabled = !(isFormValid && luxuryAcceptPolicyCheckbox.checked);
            }
        }
        if(luxuryGuestDetailsForm) luxuryGuestDetailsForm.addEventListener('input', checkLuxuryFormValidity);
        if(luxuryAcceptPolicyCheckbox) luxuryAcceptPolicyCheckbox.addEventListener('change', checkLuxuryFormValidity);
        if (luxuryGuestDetailsForm) {
            luxuryGuestDetailsForm.addEventListener('submit', (e) => {
                e.preventDefault(); if (luxuryConfirmBookingBtn.disabled) return;
                document.getElementById('conf-guest-name-luxury').textContent = document.getElementById('first-name-luxury').value;
                document.getElementById('conf-guest-email-luxury').textContent = document.getElementById('email-luxury').value;
                document.getElementById('conf-booking-id-luxury').textContent = 'ROUMEI' + Math.floor(Math.random() * 90000 + 10000);
                document.getElementById('conf-room-name-luxury').textContent = selectedRoomForCheckoutLuxury.name;
                document.getElementById('conf-dates-luxury').textContent = `${formatDateLuxury(searchCriteriaLuxury.checkin)} - ${formatDateLuxury(searchCriteriaLuxury.checkout)}`;
                document.getElementById('conf-total-price-luxury').textContent = `NT$ ${(selectedRoomForCheckoutLuxury.price * searchCriteriaLuxury.nights).toLocaleString()}`;
                if(luxuryConfirmationModal) luxuryConfirmationModal.style.display = 'flex';
            });
        }
        function closeConfirmationModalLuxury() { if(luxuryConfirmationModal) luxuryConfirmationModal.style.display = 'none'; }
        function closeConfirmationModalAndResetLuxury() {
            closeConfirmationModalLuxury();
            if(luxuryBookingForm) luxuryBookingForm.reset(); if(luxuryGuestDetailsForm) luxuryGuestDetailsForm.reset();
            if(luxuryAcceptPolicyCheckbox) luxuryAcceptPolicyCheckbox.checked = false; if(luxuryConfirmBookingBtn) luxuryConfirmBookingBtn.disabled = true;
            scrollToSectionLuxury('home-luxury-hero'); 
        }

        // Language and Currency Selector Mock Logic
        const langBtn = document.getElementById('language-selector-btn');
        const langDropdown = document.getElementById('language-dropdown');
        const currentLangDisplay = document.getElementById('current-language-display');
        if(langBtn && langDropdown) {
            langBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                langDropdown.style.display = langDropdown.style.display === 'block' ? 'none' : 'block';
                if(currencyDropdown) currencyDropdown.style.display = 'none';
            });
            langDropdown.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const selectedLang = e.target.dataset.lang;
                    setLanguage(selectedLang);
                    langDropdown.style.display = 'none';
                    // alert(`Language changed to: ${e.target.textContent} (Prototype - no actual translation)`); // Remove alert
                });
            });
        }

        const currBtn = document.getElementById('currency-selector-btn');
        const currencyDropdown = document.getElementById('currency-dropdown');
        const currentCurrDisplay = document.getElementById('current-currency-display');
        if(currBtn && currencyDropdown) {
            currBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                currencyDropdown.style.display = currencyDropdown.style.display === 'block' ? 'none' : 'block';
                if(langDropdown) langDropdown.style.display = 'none';
            });
            currencyDropdown.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    if(currentCurrDisplay) currentCurrDisplay.textContent = e.target.dataset.curr;
                    currencyDropdown.style.display = 'none';
                    alert(`Currency changed to: ${e.target.dataset.curr} (Prototype - no actual conversion)`);
                });
            });
        }
        window.addEventListener('click', () => {
            if(langDropdown) langDropdown.style.display = 'none';
            if(currencyDropdown) currencyDropdown.style.display = 'none';
        });


        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('currentYearLuxury').textContent = new Date().getFullYear();
            const today = new Date(); const tomorrow = new Date(today); tomorrow.setDate(tomorrow.getDate() + 1);
            if(luxuryCheckinDateInput) luxuryCheckinDateInput.value = today.toISOString().split('T')[0];
            if(luxuryCheckoutDateInput) luxuryCheckoutDateInput.value = tomorrow.toISOString().split('T')[0];
            searchCriteriaLuxury.checkin = luxuryCheckinDateInput.value;
            searchCriteriaLuxury.checkout = luxuryCheckoutDateInput.value;
            searchCriteriaLuxury.nights = 1;

            setLanguage(currentLanguage); // Apply initial language

            if (heroBgLuxuryElement && heroLuxuryImages.length > 0) { 
                heroBgLuxuryElement.style.backgroundImage = `url('${heroLuxuryImages[0]}')`;
                setInterval(rotateHeroLuxuryImages, 5000); 
            }
            showPageLuxury('home-luxury'); 
        });
    </script>
</body>
</html>
